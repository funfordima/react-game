{"version":3,"sources":["UI/Layout/Layout.tsx","UI/Field/Field.tsx","UI/Score/Score.tsx","UI/Button/Button.tsx","UI/ControlPanel/ControlPanel.tsx","logic/cellManager.tsx","utils/getRandomCoord.tsx","utils/delay.tsx","logic/initCells.tsx","logic/moveCells.tsx","logic/delAndIncreaseCell.tsx","logic/addCell.tsx","UI/Heading/Heading.tsx","UI/Title/Title.tsx","UI/Score/ScoreWrapper/ScoreWrapper.tsx","UI/GameIntro/GameIntro.tsx","UI/GameExplanation/GameExplanation.tsx","UI/Score/ScoreAdditional/ScoreAdditional.tsx","UI/GameMenu/btn-close.svg","UI/OnOffButton/OnOffButton.tsx","UI/MusicSlider/MusicSlider.tsx","UI/GameMenu/GameMenu.tsx","UI/GameMenu/OpenMenuBtn.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Main","styled","main","Content","div","Layout","children","calculateBackgroundColor","value","step","Math","min","log2","floor","calculateSaturation","calculateLightness","FieldTag","Background","Playground","BackgroundCell","Cell","x","y","state","Field","cells","Array","from","_","i","map","id","Score","text","ScoreContainer","Button","button","Container","ControlPanel","cellStates","create","random","toString","substr","by","getRandomCoords","delay","ms","Promise","resolve","setTimeout","initCells","cell1","cell2","rotateMatrix","require","directions","moveCell","matrix","nextRow","currentRow","moveCells","direction","cell","JSON","parse","stringify","forEach","rotateMatrixFromDirection","rotateMatrixToDirection","filter","delAndIncreaseCell","cellsParam","setScore","score","addCell","activeCoord","Set","add","size","coordSize","sum","Header","Heading","TitleElement","h1","TitleLink","a","Title","href","ScoreWrap","ScoreWrapper","Subtitle","h2","Text","p","GameIntro","GameExplanation","ScoreAdd","_extends","Object","assign","target","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fillRule","d","SvgBtnClose","_ref","svgRef","title","titleId","props","name","width","height","viewBox","xmlns","ref","ForwardRef","Input","input","Label","label","OnOffButton","handlerToggleVolumeMusic","useContext","MusicContext","type","htmlFor","onClick","useStyles","makeStyles","theme","root","spacing","margin","PrettoSlider","withStyles","color","thumb","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","MusicSlider","callback","classes","useState","volume","setVolume","className","Typography","gutterBottom","onChange","event","val","Number","valueLabelDisplay","aria-label","defaultValue","max","Overlay","BookingWidgetWrapper","BookingWidget","WidgetHeader","WidgetHeaderTitleContainer","WidgetBtnClose","WidgetTitle","ServiceContainer","Span","span","GameMenu","closeMenu","setMusicVolume","setAudioVolume","musicVolume","audioVolume","localStorage","setItem","OpenMenuBtn","gameStates","createContext","App","initScore","getItem","String","gameState","moveDirection","mainState","setCells","bestScore","setBestScore","isShowMess","setIsShowMess","isOpenMenu","setOpenMenu","musicPlay","setMusicPlay","nodeRef","useRef","audioMoveRef","Audio","useSound","play","stop","sound","current","musicController","isMusic","_loop","handleClickBtnOpen","useKeyCodeToDirection","KeyA","KeyD","KeyW","KeyS","processGame","newState","handleKeyPress","code","includes","useEffect","document","addEventListener","removeEventListener","Transition","in","timeout","unmountOnExit","onEntered","removeItem","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0af5b185.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nconst Main = styled.main`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nconst Content = styled.div`\n  min-height: 600px;\n  width: 600px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children }) => (\n  <Main>\n    <Content>\n      {children}\n    </Content>\n  </Main>\n);\n\nexport default Layout;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { cellsType } from '../../types';\n\nconst calculateSaturation = (step: number): number => Math.floor(100 / 16 * step);\n\nconst calculateLightness = (step: number): number => 100 - Math.floor(50 / 16 * step);\n\nconst calculateBackgroundColor = (value: number): string => {\n  if (value === 0) {\n    return 'transparent'\n  }\n  // from 0 to 16\n  const step = Math.min(16, Math.log2(value))\n  return `hsl(0, ${calculateSaturation(step)}%, ${calculateLightness(step)}%);`\n};\n\nconst FieldTag = styled.div`\n  width: 475px;\n  height: 475px;\n  position: relative;\n`;\n\nconst Background = styled.div`\n  padding: 5px;\n  width: 450px;\n  height: 450px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-content: space-between;\n  background-color: #bbada0;\n  border-radius: 10px;\n  position: absolute;\n`;\n\nconst Playground = styled(Background)`\n  background-color: transparent;\n`;\n\nconst BackgroundCell = styled.div`\n  margin: 5px;\n  height: 100px;\n  width: 100px;\n  border-radius: 5px;\n  background-color: rgba(238, 228, 218, 0.35);\n`;\n\nconst Cell = styled(BackgroundCell) <{ x: number, y: number, value: number, state: string }>`\n  transform: translate(${({ x }) => x * 110}px, ${({ y }) => y * 110}px);\n  text-align: center;\n  line-height: 100px;\n  background-color: ${({ value }) => calculateBackgroundColor(value)};\n  position: absolute;\n  transition-property: transform;\n  transition: 100ms ease-in-out;\n  color: #6a4e4e;\n  font-weight: 900;\n  font-size: ${({ value }) =>\n    /* eslint no-nested-ternary: 0 */\n    value < 100 ? 66\n      : value < 1000 ? 47\n        : value < 10000 ? 40\n          : 30}px;\n  z-index: ${({ state }) =>\n    state === 'init' ? 1\n      : state === 'del' ? 0\n        : state === 'move' ? 2 : 3};\n`;\n\ninterface FieldProps {\n  cells: Array<cellsType>;\n}\n\nconst Field: React.FC<FieldProps> = ({ cells }) => {\n  const inc = 1;\n  return (\n    <>\n      <FieldTag>\n        <Background>\n          {/* prettier-ignore */\n            Array\n              .from(new Array(16), (_, i) => i)\n              .map(i =>\n                <BackgroundCell key={i} />\n              )}\n        </Background>\n        <Playground>\n          {cells.map(({ x, y, value, id, state }) => (\n            <Cell key={id} x={x} y={y} value={value + inc} state={state}>\n              {value}\n            </Cell>\n          ))}\n        </Playground>\n      </FieldTag>\n    </>\n  );\n};\n\nexport default Field;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Score = styled.div<{ text: string }>`\n  margin-top: 8px;\n  padding: 15px ${({ text }) => text === 'score' ? '25px' : '30px'};\n  height: 60px;\n  font-size: 25px;\n  font-weight: 700;\n  line-height: 47px;\n  position: relative;\n  display: inline-block;\n  background: #bbada0;\n  border-radius: 3px;\n  color: #fff;\n  text-align: center;\n\n    &::after {\n      content: '${({ text }) => text}';\n      position: absolute;\n      width: 100%;\n      top: 10px;\n      left: 0;\n      text-transform: uppercase;\n      font-size: 13px;\n      line-height: 13px;\n      text-align: center;\n      color: #eee4da;\n    }\n`;\n\ninterface ScoreContainerProps {\n  text: string;\n  children: React.ReactNode;\n}\n\nconst ScoreContainer: React.FC<ScoreContainerProps> = ({ text, children }) => (\n  <Score text={text}>\n    {children}\n  </Score>\n);\n\nexport default ScoreContainer;\n","import styled from 'styled-components';\n\nconst Button = styled.button`\n  padding: 10px 20px;\n  font-size: 16px;\n  font-weight: 500;\n  text-transform: capitalize;\n  white-space: nowrap;\n  align-items: center;\n  background-color: brown;\n  border-radius: 5px;\n  border: none;\n  color: #fff;\n  cursor: pointer;\n  outline: none;\n  \n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n\nexport default Button;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  padding: 20px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n`;\n\ninterface ControlPanelProps {\n  children: React.ReactNode;\n}\n\nconst ControlPanel: React.FC<ControlPanelProps> = ({ children }) => (\n  <Container>\n    {children}\n  </Container>\n);\n\nexport default ControlPanel;\n","import { cellsType } from '../types';\n\nexport const cellStates = {\n  init: 'init',\n  move: 'move',\n  del: 'del',\n  increase: 'increase',\n};\n\nconst create = (x: number, y: number, value: number, id: string = Math.random().toString(36).substr(2, 9)): cellsType => ({\n  x,\n  y,\n  value,\n  id,\n  state: cellStates.init,\n  by: null,\n});\n\nexport default create;\n","const getRandomCoords = (): number => Math.floor(Math.random() * 3.9);\n\nexport default getRandomCoords;\n","const delay = (ms: number): Promise<number> => new Promise((resolve) => setTimeout(resolve, ms));\n\nexport default delay;\n","import create from './cellManager';\nimport { cellsType } from '../types';\nimport getRandomCoords from '../utils';\n\nconst initCells = (): cellsType[] => {\n  const cell1 = create(getRandomCoords(), getRandomCoords(), 2);\n  const cell2 = create(getRandomCoords(), getRandomCoords(), 2);\n\n  if (cell1.x === cell2.x && cell1.y === cell2.y) {\n    cell1.x = cell1.x === 0 ? 1 : cell1.x - 1;\n  }\n\n  return [cell1, cell2];\n};\n\nexport default initCells;\n","import { cellsType } from '../types';\nimport { cellStates } from './cellManager';\n/* eslint @typescript-eslint/no-var-requires: \"off\" */\nconst rotateMatrix = require('matrix-rotate');\n\nconst directions = {\n  UP: 'UP',\n  DOWN: 'DOWN',\n  LEFT: 'LEFT',\n  RIGHT: 'RIGHT',\n};\n\ntype ArrayType = Array<cellsType | number>;\ntype MatrixType = ArrayType[];\n\nconst rotateMatrixFromDirection = (matrix: MatrixType, direction: string): void => {\n  switch (direction) {\n    case directions.LEFT: {\n      rotateMatrix(matrix);\n      break;\n    }\n    case directions.DOWN: {\n      rotateMatrix(matrix);\n      rotateMatrix(matrix);\n      break;\n    }\n    case directions.RIGHT: {\n      rotateMatrix(matrix);\n      rotateMatrix(matrix);\n      rotateMatrix(matrix);\n      break;\n    }\n    default: break;\n  }\n};\n\nconst rotateMatrixToDirection = (matrix: MatrixType, direction: string): void => {\n  switch (direction) {\n    case directions.LEFT: {\n      rotateMatrix(matrix);\n      rotateMatrix(matrix);\n      rotateMatrix(matrix);\n      break;\n    }\n    case directions.DOWN: {\n      rotateMatrix(matrix);\n      rotateMatrix(matrix);\n      break;\n    }\n    case directions.RIGHT: {\n      rotateMatrix(matrix);\n      break;\n    }\n    default: break;\n  }\n};\n\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\nconst moveCell = (matrix: MatrixType, x: number, y: number): void => {\n  let nextRow = y - 1;\n  let currentRow = y;\n\n  while (nextRow >= 0) {\n    if (matrix[nextRow][x] === 0) {\n      matrix[nextRow][x] = matrix[currentRow][x];\n      (matrix[currentRow][x] as cellsType).state = cellStates.move;\n      matrix[currentRow][x] = 0;\n\n      currentRow = nextRow;\n    } else if ((matrix[nextRow][x] as cellsType).value === (matrix[currentRow][x] as cellsType).value &&\n      ((matrix[nextRow][x] as cellsType).state === cellStates.init ||\n        (matrix[nextRow][x] as cellsType).state === cellStates.move)) {\n      (matrix[nextRow][x] as cellsType).state = cellStates.del;\n      (matrix[nextRow][x] as cellsType).by = matrix[currentRow][x] as cellsType;\n      (matrix[currentRow][x] as cellsType).state = cellStates.increase;\n      matrix[nextRow][x] = matrix[currentRow][x];\n      matrix[currentRow][x] = 0;\n\n      currentRow = nextRow;\n    } else {\n      break;\n    }\n\n    nextRow -= 1;\n  }\n};\n\nconst moveCells = (initCells: Array<cellsType>, direction: string): Array<cellsType> => {\n  const cells = initCells.map((cell) => JSON.parse(JSON.stringify(cell)));\n\n  const matrix = Array.from(new Array(4), () =>\n    Array.from(new Array(4), () => 0));\n\n  /* eslint no-return-assign: \"error\" */\n  cells.forEach((cell: cellsType) => ((matrix[cell.y][cell.x] as unknown as cellsType) = cell));\n  // printMatrix(matrix);\n\n  rotateMatrixFromDirection(matrix, direction);\n\n  for (let y = 0; y < 4; y += 1) {\n    for (let x = 0; x < 4; x += 1) {\n      if (matrix[y][x] !== 0) {\n        moveCell(matrix, x, y);\n      }\n    }\n  }\n\n  rotateMatrixToDirection(matrix, direction);\n\n  for (let y = 0; y < 4; y += 1) {\n    for (let x = 0; x < 4; x += 1) {\n      if (matrix[y][x] !== 0 && typeof matrix[y][x] === 'object') {\n        (matrix[y][x] as unknown as cellsType).y = y;\n        (matrix[y][x] as unknown as cellsType).x = x;\n      }\n    }\n  }\n\n  cells\n    .filter((cell) => cell.by !== null)\n    .forEach((cell) => {\n      cell.x = cell.by.x;\n      cell.y = cell.by.y;\n\n      delete cell.by;\n    });\n\n  // printMatrix(matrix);\n\n  return cells;\n};\n\nexport { moveCells, directions };\n","import { cellStates } from './cellManager';\nimport { cellsType } from '../types';\n\ntype DelAndIncreaseCellType = {\n  cells: cellsType[],\n}\n\nconst delAndIncreaseCell = (cellsParam: cellsType[], setScore: React.Dispatch<React.SetStateAction<number>>): DelAndIncreaseCellType => {\n  const filterCells = cellsParam.filter((cell) => cell.state !== cellStates.del);\n\n  /* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n  const cells = filterCells.map((cell) => {\n    if (cell.state === cellStates.increase) {\n      setScore((score) => (score + cell.value));\n      cell.value *= 2;\n    }\n\n    cell.state = cellStates.init;\n\n    return cell;\n  })\n\n  return { cells };\n};\n\nexport default delAndIncreaseCell;\n","import create from './cellManager';\nimport { cellsType } from '../types';\nimport getRandomCoords from '../utils';\n\nconst addCell = (cells: cellsType[]): cellsType[] => {\n  const activeCoord = new Set();\n\n  cells.forEach((cell) => activeCoord.add(cell.x * 4 + cell.y));\n\n  if (activeCoord.size === 16) {\n    return [...cells];\n  }\n\n  let x: number;\n  let y: number;\n  const coordSize = activeCoord.size;\n\n  do {\n    x = getRandomCoords();\n    y = getRandomCoords();\n\n    const sum = x * 4 + y;\n    activeCoord.add(sum);\n  } while (coordSize === activeCoord.size);\n\n  return [...cells, create(x, y, 2)];\n};\n\nexport default addCell;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Header = styled.div`\n  margin-bottom: 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\ninterface HeadingProps {\n  children: React.ReactNode;\n}\n\nconst Heading: React.FC<HeadingProps> = ({ children }) => (\n  <Header>\n    {children}\n  </Header>\n);\n\nexport default Heading;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst TitleElement = styled.h1`\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 74px;\n  line-height: 66px;\n  font-weight: 700;\n`;\n\nconst TitleLink = styled.a`\n  color: #776e65;\n  font-weight: 700;\n  text-decoration: none;\n  cursor: pointer;\n`;\n\ninterface TitleProps {\n  text: string;\n}\n\nconst Title: React.FC<TitleProps> = ({ text }) => (\n  <TitleElement>\n    <TitleLink href='/'>\n      {text}\n    </TitleLink>\n  </TitleElement >\n);\n\nexport default Title;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst ScoreWrap = styled.div`\n  width: 250px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\ninterface ScoreWrapperProps {\n  children: React.ReactNode;\n}\n\nconst ScoreWrapper: React.FC<ScoreWrapperProps> = ({ children }) => (\n  <ScoreWrap>\n    {children}\n  </ScoreWrap>\n);\n\nexport default ScoreWrapper;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  margin-right: 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: column;\n`;\n\nconst Subtitle = styled.h2`\n  margin: 0;  \n  font-size: 1em;\n`;\n\nconst Text = styled.p`\n  line-height: 1.45;\n`;\n\nconst GameIntro: React.FC = () => (\n  <Container>\n    <Subtitle>\n      Play\n      <strong>2048 Game</strong>\n      Online\n    </Subtitle>\n    <Text>\n      Join the numbers and get to the\n      <strong> 2048 tile!</strong>\n    </Text>\n  </Container>\n);\n\nexport default GameIntro;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.p`\n  margin-top: 20px;\n  width: 450px;\n  margin-bottom: 20px;\n  text-align: justify;\n`;\n\nconst GameExplanation: React.FC = () => (\n  <Container>\n    <strong>How to play: </strong>\n    Use your\n    <strong> arrow keys </strong>\n    to move the tiles. When two tiles with the same number touch, they\n    <strong> merge into one!</strong>\n  </Container>\n);\n\nexport default GameExplanation;\n","import styled from 'styled-components';\n\nconst ScoreAdd = styled.div`\n  position: absolute;\n  right: 30px;\n  // top: 25px;\n  color: red;\n  font-size: 25px;\n  line-height: 25px;\n  font-weight: 700;\n  color: rgba(119, 110, 101, .9);\n  z-index: 10;\n  animation: move-up 300ms ease-in;\n  animation-fill-mode: both;\n\n  @keyframes move-up {\n    0% {\n      top: 25px;\n      opacity: 1;\n    }\n\n    100% {\n      top: -50px;\n      opacity: 0;\n    }\n  }\n`;\n\nexport default ScoreAdd;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 6.743L14.483.26a.889.889 0 1 1 1.257 1.257L9.257 8l6.483 6.483a.889.889 0 1 1-1.257 1.257L8 9.257 1.517 15.74A.889.889 0 0 1 .26 14.483L6.743 8 .26 1.517A.889.889 0 1 1 1.517.26L8 6.743z\"\n}));\n\nfunction SvgBtnClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    name: \"closePopup\",\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBtnClose);\nexport default __webpack_public_path__ + \"static/media/btn-close.ba5fa4aa.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { MusicContext } from '../../App';\n\nconst Input = styled.input`\n  display: none;\n\n  &:checked ~ [for=\"#switcher\"]:after {\n    left: 65px;\n  }\n`;\n\nconst Label = styled.label`\n  position: relative;\n  width: 100px;\n  height: 10px;\n  padding: 18px 18px;\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  line-height: 1.5;\n  opacity: 1;\n  border: 3px solid #4C422D;\n  border-radius: 20px;\n  box-shadow: inset 0px 0px 1px 2px #f9cb0e;\n  background: #010810;\n  color: #fff;\n  text-shadow: 1px 1px 0px rgba(255,255,255,.15);\n  cursor: pointer;\n\n  &:before {\n    content: \"OFF\";\n    position: absolute;\n    top: 8px;\n    right: 12px;\n    color: #fff;\n    font-size: 14px;\n  }\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    left: 17px;\n    top: 3px;\n    display: block;\n    width: 30px;\n    height: 30px;\n    border-radius: 50px;\n    background: #FCDC0B linear-gradient(#FCDC0B 0%, #EEAA23 40%, #FCDC0B 100%);\n    transition: .5s;\n  }\n`;\n\nconst OnOffButton: React.FC = () => {\n  const { handlerToggleVolumeMusic } = useContext(MusicContext);\n\n  return (\n    <>\n      <Input\n        type='checkbox'\n        id='switcher'\n      />\n      <Label htmlFor='switcher' onClick={handlerToggleVolumeMusic}>\n        ON\n    </Label>\n    </>\n  );\n};\n\nexport default OnOffButton;\n","import React, { useState } from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\n// import { MusicContext } from '../../App';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 200 + theme.spacing(3) * 2,\n  },\n  margin: {\n    height: theme.spacing(3),\n  },\n}));\n\n\nconst PrettoSlider = withStyles({\n  root: {\n    color: '#52af77',\n    height: 8,\n  },\n  thumb: {\n    height: 24,\n    width: 24,\n    backgroundColor: '#fff',\n    border: '2px solid currentColor',\n    marginTop: -8,\n    marginLeft: -12,\n    '&:focus, &:hover, &$active': {\n      boxShadow: 'inherit',\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50% + 4px)',\n  },\n  track: {\n    height: 8,\n    borderRadius: 4,\n  },\n  rail: {\n    height: 8,\n    borderRadius: 4,\n  },\n})(Slider);\n\ninterface MusicSliderProps {\n  text: string,\n  id: string,\n  value: number,\n  callback: (value: number) => void,\n};\n\nconst MusicSlider: React.FC<MusicSliderProps> = ({ text, id, value, callback }) => {\n  const classes = useStyles();\n  // const { musicVolume } = useContext(MusicContext);\n  const [volume, setVolume] = useState<number | number[]>(value as number);\n\n  const handleChange = (event: any, val: number | number[]): void => {\n    setVolume(val);\n    callback(Number(val));\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography gutterBottom>{text}</Typography>\n      <PrettoSlider\n        id={id}\n        value={volume}\n        onChange={handleChange}\n        valueLabelDisplay=\"auto\"\n        aria-label={`${text} slider`}\n        defaultValue={volume}\n        step={1}\n        min={0}\n        max={100}\n      />\n      <div className={classes.margin} />\n    </div>\n  );\n}\n\nexport default MusicSlider;\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { ReactComponent as BtnCloseSvg } from './btn-close.svg';\nimport OnOffButton from '../OnOffButton';\nimport MusicSlider from '../MusicSlider';\nimport { MusicContext } from '../../App';\n\nconst Overlay = styled.div`\n  display: block;\n  opacity: 1;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: #091D1B;\n  opacity: 0.9;\n  z-index: 12;\n  transition: all 200ms ease; \n`;\n\nconst BookingWidgetWrapper = styled.div`\n  width: 301px;\n  height: 100%;\n  position: fixed;\n  right: 0;\n  top: 0;\n  background: #010810;\n  opacity: 1;\n  border: 5px solid #4C422D;\n  border-radius: 10px;\n  box-shadow: inset 0px 0px 1px 4px #f9cb0e;\n  z-index: 13;\n  transition: all 200ms ease; \n\n  @media only screen and (min-width: 0) and (max-width: 510px) {\n    width: 301px;\n  }\n`;\n\nconst BookingWidget = styled.div`\n  height: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  box-sizing: border-box;\n  font-family: system-ui;\n  color: #D1B445;\n`;\n\nconst WidgetHeader = styled.div`\n  padding: 24px 50px 21px;\n  height: 96px;\n  width: 100%;\n  // border-bottom: 5px solid #bbada0;\n  text-align: center;\n`;\n\nconst WidgetHeaderTitleContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 24px;\n  line-height: 32px;\n`;\n\nconst WidgetBtnClose = styled.div`\n  padding: 10px;\n  display: flex;\n  left: -36px;\n  align-items: center;\n  font-size: 10px;\n  position: absolute;\n  z-index: 1;\n  cursor: pointer;\n\n  & svg {\n    fill: #D1B445;\n  }\n\n  & svg:hover {\n    fill: #ff1446;\n  }\n`;\n\nconst WidgetTitle = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst ServiceContainer = styled.div`\n  position: relative;\n  padding: 16px 16px 40px;\n  // border-bottom: 5px solid #bbada0;\n`;\n\nconst Span = styled.span`\n  display: inline-block;\n  margin-bottom: 10px;\n  padding: 5px 50px;\n  position: relative;\n  border-radius: 20px;\n  border: 3px solid #4C422D;\n  box-shadow: inset 0px 0px 1px 2px #f9cb0e;\n  color: #fff;\n  transition: all 200ms ease;\n  cursor: pointer;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 7px;\n    left: 10px;\n    border: 10px solid #f9cb0e;\n    border-radius: 50%;\n  }\n    \n  &:hover {\n    transform: scale(1.1);\n    background-color: #0F0D0E;\n  } \n`;\n\ninterface GameMenuProps {\n  closeMenu: () => void;\n}\n\nconst GameMenu: React.FC<GameMenuProps> = ({ closeMenu }) => {\n  const { setMusicVolume, setAudioVolume, musicVolume, audioVolume } = useContext(MusicContext);\n\n  const handleMusicVolume = (value: number): void => {\n    setMusicVolume(Number(value));\n    localStorage.setItem('musicVolume', `${value}`);\n  };\n\n  const handleAudioVolume = (value: number): void => {\n    setAudioVolume(Number(value));\n    localStorage.setItem('audioVolume', `${value}`);\n  };\n  return (\n    <Overlay>\n      <BookingWidgetWrapper>\n        <BookingWidget>\n          <WidgetHeader>\n            <WidgetHeaderTitleContainer>\n              <WidgetBtnClose onClick={closeMenu}>\n                <BtnCloseSvg />\n              </WidgetBtnClose>\n              <WidgetTitle>\n                Menu\n                </WidgetTitle>\n            </WidgetHeaderTitleContainer>\n          </WidgetHeader>\n          <ServiceContainer>\n            <Span>Music</Span>\n            <MusicSlider id='music' text='music' callback={handleMusicVolume} value={musicVolume} />\n          </ServiceContainer>\n          <ServiceContainer>\n            <Span>Sound</Span>\n            <MusicSlider id='audio' text='sound' callback={handleAudioVolume} value={audioVolume} />\n          </ServiceContainer>\n          <ServiceContainer>\n            <OnOffButton />\n          </ServiceContainer>\n        </BookingWidget>\n      </BookingWidgetWrapper>\n    </Overlay>\n  );\n};\n\nexport default GameMenu;\n","import styled from 'styled-components';\n\nconst OpenMenuBtn = styled.button`\n  padding: 10px 20px;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  font-size: 16px;\n  font-weight: 500;\n  text-transform: capitalize;\n  white-space: nowrap;\n  align-items: center;\n  background-color: #ccc;\n  border-radius: 5px;\n  border: none;\n  color: #fff;\n  cursor: pointer;\n  outline: none;\n  transition: all 200ms ease;\n  \n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n\nexport default OpenMenuBtn;\n","import React, { useState, useEffect, useRef, createContext } from 'react';\nimport useSound from 'use-sound';\nimport { Transition } from 'react-transition-group';\nimport { cellsType } from './types';\nimport Layout from './UI/Layout';\nimport Field from './UI/Field';\nimport ScoreContainer from './UI/Score';\nimport Button from './UI/Button';\nimport ControlPanel from './UI/ControlPanel';\nimport { moveCells, directions, initCells, delAndIncreaseCell, addCell } from './logic';\nimport Heading from './UI/Heading';\nimport Title from './UI/Title';\nimport ScoreWrapper from './UI/Score/ScoreWrapper';\nimport GameIntro from './UI/GameIntro';\nimport GameExplanation from './UI/GameExplanation';\nimport ScoreAdd from './UI/Score/ScoreAdditional';\nimport OpenMenuBtn, { GameMenu } from './UI/GameMenu';\nimport { delay } from './utils';\nimport './App.css';\n\ninterface KeyCodeToDirectionType {\n  [key: string]: string,\n}\n\ninterface MainState {\n  cells: cellsType[],\n  gameState: string,\n  moveDirection: string,\n}\n\nconst gameStates = {\n  IDLE: 'IDLE',\n  PROCESSING: 'PROCESSING',\n}\n\ninterface MusicContextT {\n  handlerToggleVolumeMusic: () => void,\n  setMusicVolume: React.Dispatch<React.SetStateAction<number>>,\n  setAudioVolume: React.Dispatch<React.SetStateAction<number>>,\n  musicVolume: number,\n  audioVolume: number,\n  // setPlaybackRate:  React.Dispatch<React.SetStateAction<number>>,\n}\n\nexport const MusicContext = createContext({} as MusicContextT);\n\nconst App: React.FC = () => {\n  const initScore = (type: string, value = 0): number => {\n    let score = value;\n\n    if (localStorage.getItem(type)) {\n      score = Number(localStorage.getItem(type));\n    }\n\n    return score;\n  };\n\n  const initMainState = (): MainState => {\n    if (localStorage.getItem('mainState')) {\n      return JSON.parse(String(localStorage.getItem('mainState')));\n    }\n\n    return {\n      cells: initCells(),\n      gameState: gameStates.IDLE,\n      moveDirection: '',\n    }\n  };\n\n  const [mainState, setCells] = useState(initMainState());\n  const [bestScore, setBestScore] = useState(initScore('bestScore'));\n  const [score, setScore] = useState(initScore('mainScore'));\n  const [isShowMess, setIsShowMess] = useState(false);\n  const [isOpenMenu, setOpenMenu] = useState(false);\n  const [musicVolume, setMusicVolume] = useState(initScore('musicVolume', 20) as number);\n  const [audioVolume, setAudioVolume] = useState(initScore('audioVolume', 20) as number);\n  // const [playbackRate, setPlaybackRate] = useState(0.75);\n  const [musicPlay, setMusicPlay] = useState(false);\n  const nodeRef = useRef(null);\n  // const audioHideRef = useRef(new Audio('/hide.mp3'));\n  const audioMoveRef = useRef(new Audio('/move.mp3'));\n  const soundUrl = '/music.mp3';\n  const [play, { stop, sound }] = useSound(\n    soundUrl,\n    {\n      // playbackRate,\n      volume: musicVolume / 100,\n    },\n  );\n\n  audioMoveRef.current.volume = audioVolume / 100;\n\n  const handlerToggleVolumeMusic = (): void => {\n    setMusicPlay((isMusic) => !isMusic);\n\n    if (musicPlay) {\n      stop();\n    } else {\n      /* eslint no-underscore-dangle: 0 */\n      sound._loop = true;\n      play();\n    }\n  };\n\n  const musicController = {\n    handlerToggleVolumeMusic,\n    setMusicVolume,\n    setAudioVolume,\n    musicVolume,\n    audioVolume,\n    // setPlaybackRate\n  };\n\n  const handleClickBtnNewGame = () => {\n    localStorage.removeItem('mainState');\n    setScore(0);\n    setCells({\n      cells: initCells(),\n      gameState: gameStates.IDLE,\n      moveDirection: '',\n    });\n  };\n\n  const handleClickBtnOpen = (): void => {\n    setOpenMenu((state) => !state);\n  };\n\n  const useKeyCodeToDirection = {\n    KeyA: directions.LEFT,\n    KeyD: directions.RIGHT,\n    KeyW: directions.UP,\n    KeyS: directions.DOWN,\n  } as KeyCodeToDirectionType;\n\n  const processGame = async () => {\n    audioMoveRef.current.play();\n    setCells(state => ({\n      ...state,\n      cells: [...moveCells(state.cells, state.moveDirection)],\n    })\n    );\n\n    await delay(150);\n\n    // audioMoveRef.current.pause();\n    // audioMoveRef.current.currentTime = 0;\n\n    setCells(state => {\n      const { cells } = delAndIncreaseCell(state.cells, setScore);\n      return ({\n        ...state,\n        cells,\n      })\n    });\n\n    // audioHideRef.current.pause();\n    // audioHideRef.current.currentTime = 0;\n\n    setCells(state => ({\n      ...state,\n      cells: [...addCell([...state.cells])],\n    }));\n\n    setCells(state => {\n      const newState = {\n        ...state,\n        gameState: gameStates.IDLE,\n        moveDirection: '',\n      };\n      localStorage.setItem('mainState', JSON.stringify(newState));\n      localStorage.setItem('mainScore', JSON.stringify(score));\n\n      return newState;\n    });\n  };\n\n  const handleKeyPress = async ({ code }: KeyboardEvent) => {\n    if (['KeyA', 'KeyD', 'KeyW', 'KeyS'].includes(code)) {\n      // setCells((prevState) => {\n      //   const cellsWithMoving = [...moveCells(prevState.cells, useKeyCodeToDirection[code])];\n      //   // await delay(100);\n      //   const { cells, score } = delAndIncreaseCell(cellsWithMoving, prevState.score);\n      //   const newState = {\n      //     cells: [...addCell([...cells])],\n      //     score,\n      //   };\n      //   localStorage.setItem('mainState', JSON.stringify(newState));\n\n      //   return newState;\n      // })\n\n      setCells(state => {\n        if (state.gameState === gameStates.IDLE) {\n          return {\n            ...state,\n            gameState: gameStates.PROCESSING,\n            moveDirection: (useKeyCodeToDirection as KeyCodeToDirectionType)[code],\n          }\n        }\n        return state\n      });\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyPress);\n\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  });\n\n  useEffect(() => {\n    if (score > bestScore) {\n      setBestScore(score);\n      localStorage.setItem('bestScore', `${score}`);\n    }\n  }, [score, bestScore]);\n\n  useEffect(() => {\n    setIsShowMess(true);\n  }, [score]);\n\n  // useEffect(() => {\n  //   setIsShowMess(false);\n  // }, [isShow]);\n\n  useEffect(() => {\n    if (mainState.gameState === gameStates.PROCESSING) {\n      processGame();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mainState.gameState]);\n\n  return (\n    <Layout>\n      <OpenMenuBtn onClick={handleClickBtnOpen}>Menu</OpenMenuBtn>\n      <Heading>\n        <Title text='2048' />\n        <ScoreWrapper>\n          <ScoreContainer text='score'>\n            {score}\n            <Transition\n              nodeRef={nodeRef}\n              in={isShowMess}\n              timeout={200}\n              unmountOnExit\n              onEntered={() => setIsShowMess(false)}\n            >\n              {state => <ScoreAdd ref={nodeRef} className={`alert ${state}`}>{score}</ScoreAdd>}\n            </Transition>\n          </ScoreContainer>\n          <ScoreContainer text='best'>\n            {bestScore}\n          </ScoreContainer>\n        </ScoreWrapper>\n      </Heading>\n      <ControlPanel>\n        <GameIntro />\n        <Button onClick={handleClickBtnNewGame}>\n          New Game\n        </Button>\n      </ControlPanel>\n      <Field cells={mainState.cells} />\n      <GameExplanation />\n      <MusicContext.Provider value={musicController}>\n        {isOpenMenu && <GameMenu closeMenu={handleClickBtnOpen} />}\n      </MusicContext.Provider>\n    </Layout>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}